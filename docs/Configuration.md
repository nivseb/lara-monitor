Configuration
=============

|                        Key                        |             ENV              |                 Default                 | Description                                                                                                                                                                                                                                                                                            |
|:-------------------------------------------------:|:----------------------------:|:---------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              `lara-monitor.enabled`               |    `LARA_MONITOR_ENABLED`    |                 `false`                 | enable/disable lara-monitor as apm agent                                                                                                                                                                                                                                                               |
|             `lara-monitor.sampleRate`             |                              |                  `1.0`                  | sample rate that is used for monitoring. The `1.0` corresponds to 100% (every thing is sampled)                                                                                                                                                                                                        |
|        `lara-monitor.ignoreExternalTrace`         |                              |                 `false`                 | if set to true external `traceparent` header is ignored in incoming requests                                                                                                                                                                                                                           |
|             `lara-monitor.service.id`             |                              |      md5 from App-Name and App-Env      | id that is used by apm server to collect transactions to the same service                                                                                                                                                                                                                              |
|            `lara-monitor.service.name`            |          `APP_NAME`          |                `Laravel`                | name for the service that is displaced in kibana as service name                                                                                                                                                                                                                                       |
|            `lara-monitor.service.env`             |          `APP_ENV`           |              `production`               | environment that is send to the apm server and shown in kibana as environment                                                                                                                                                                                                                          |
|          `lara-monitor.service.version`           |        `APP_VERSION`         |                 `null`                  | service version that is send to apm server                                                                                                                                                                                                                                                             |
|         `lara-monitor.service.agentName`          |                              |             `lara-monitor`              | agent name used to send to apm server                                                                                                                                                                                                                                                                  |
|           `lara-monitor.instance.name`            |                              | md5 from App-Name, App-Env and hostname | id for instance that is send to apm server.                                                                                                                                                                                                                                                            |
|         `lara-monitor.instance.hostname`          |                              |                 `null`                  | Hostname that is send to apm server. only set this if its not a container and container id is null                                                                                                                                                                                                     |
|        `lara-monitor.instance.containerId`        |        `CONTAINER_ID`        |                 `null`                  | Container id that send to apm server. Only set without hostname.                                                                                                                                                                                                                                       |
|      `lara-monitor.feature.database.enabled`      |  `LARA_MONITOR_DB_ENABLED`   |                 `true`                  | Enables monitoring of database queries                                                                                                                                                                                                                                                                 |
|        `lara-monitor.feature.http.enabled`        | `LARA_MONITOR_HTTP_ENABLED`  |                 `true`                  | Enables monitoring of outgoing http requests                                                                                                                                                                                                                                                           |
|      `lara-monitor.feature.http.traceParent`      |                              |                 `true`                  | Add `traceparent` header to outgoing requests, that works only for requests via Http-Facade. For self created guzzle client instances add the middleware by your own.                                                                                                                                  |
|   `lara-monitor.feature.http.collecting.events`   |                              |                 `true`                  | Monitoring outgoing http requests via Events. `lara-monitor.feature.http.enabled` need also enabled. Should not mixed with `lara-monitor.feature.http.collecting.middleware`.                                                                                                                          |
| `lara-monitor.feature.http.collecting.middleware` |                              |                 `false`                 | Monitoring outgoing http requests via Global Middleware. `lara-monitor.feature.http.enabled` need also enabled. Should not mixed with `lara-monitor.feature.http.collecting.events`. Works only for requests via Http-Facade. For self created guzzle client instances add the middleware by your own. |
|       `lara-monitor.feature.redis.enabled`        | `LARA_MONITOR_REDIS_ENABLED` |                 `false`                 | Enables monitoring of redis calls. Also enable redis events via `Redis::enableEvents()`                                                                                                                                                                                                                |
|        `lara-monitor.feature.auth.enabled`        | `LARA_MONITOR_AUTH_ENABLED`  |                 `true`                  | Enables monitoring of auth instances. User information are added to the trace data.                                                                                                                                                                                                                    |
|         `lara-monitor.elasticApm.enabled`         |      `ELASTIC_APM_URL`       |                   ``                    | Enables sending to elastic apm server. Only need to set Url.                                                                                                                                                                                                                                           |
|         `lara-monitor.elasticApm.baseUrl`         |      `ELASTIC_APM_URL`       |                   ``                    | Url for elastic apm server (e.g. https://your-apm-server:8200/).                                                                                                                                                                                                                                                                    |
|         `lara-monitor.elasticApm.meta.*`          |                              |                                         | Additional meta information for elastic apm server, for more information see <https://www.elastic.co/guide/en/apm/guide/current/data-model-metadata.html>.                                                                                                                                             |
